<!doctype html>
<html lang="sv">
<head>
  <link rel="manifest" href="manifest.json">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Amadeus ‚Äî Kommandon & Snabbindex</title>
  <meta name="theme-color" content="#0f172a"/>
  <style>
    :root{
      --bg:#0b1020;
      --panel:#0f162a;
      --ink:#e6f0ff;
      --muted:#98a4c0;
      --brand:#66e0ff;
      --brand-2:#4f46e5;
      --accent:#22d3ee;
      --chip:#121a33;
      --ok:#86efac;
      --warn:#fde047;
      --danger:#f87171;
      --ring: rgba(102,224,255,.35);
      --card:#0b132a;
      --border:#1e2a4a;
      --shadow: 0 12px 28px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:15px/1.55 system-ui,Segoe UI,Roboto,Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 700px at 10% -20%, rgba(79,70,229,.22), transparent),
        linear-gradient(180deg, #0b1020 0%, #090f1e 100%);
    }
    .wrap{max-width:1100px; margin:auto; padding:28px 14px 80px}
    header.hero{
      background:linear-gradient(180deg, rgba(34,211,238,.08), rgba(79,70,229,.05));
      border:1px solid rgba(102,224,255,.18);
      border-radius:20px; padding:20px;
      box-shadow: var(--shadow);
    }
    h1{margin:0 0 6px; font-size:clamp(26px,4vw,40px); letter-spacing:.2px}
    p.lead{margin:0; color:var(--muted)}
    .controls{ display:grid; gap:10px; grid-template-columns: 1fr 220px 220px; margin:18px 0 14px }
    input, select, button{
      background:var(--panel); color:var(--ink);
      border:1px solid var(--border); border-radius:12px;
      padding:12px 14px; outline:0; transition:.15s;
    }
    input:focus, select:focus{ box-shadow:0 0 0 3px var(--ring); border-color:#2a3a64 }
    .quickbar{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 16px }
    .chip{
      background:var(--chip); border:1px solid var(--border); color:#cfe3ff;
      padding:6px 10px; border-radius:999px; font-size:12px; cursor:pointer; user-select:none;
    }
    .chip.active{ outline:2px solid var(--accent); outline-offset:2px }
    .grid{ display:grid; gap:14px; grid-template-columns: repeat(auto-fill, minmax(280px,1fr)) }
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:16px;
      overflow:visible; display:flex; flex-direction:column; box-shadow: var(--shadow);
      position:relative;
    }
    .card::before{
      content:""; position:absolute; inset:0; pointer-events:none; border-radius:16px; padding:1px;
      background:linear-gradient(135deg, rgba(102,224,255,.75), rgba(79,70,229,.65));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude;
    }
    .card-body{ padding:14px 14px 10px }
    .k{ font-weight:800; letter-spacing:.4px; font-size:16px; margin:0 0 4px }
    .meta{ color:var(--muted); font-size:12px; margin:0 0 8px }
    .blurb{ margin:6px 0 10px; color:#d9e7ff; min-height:44px }
    .example{
      background: rgba(34,211,238,.08); border:1px dashed rgba(102,224,255,.28);
      color:#c7e9ff; padding:8px 10px; border-radius:10px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size:12.5px;
    }
    .taglist{ display:flex; flex-wrap:wrap; gap:6px; margin:10px 0 8px }
    .tag{ background:#0f1a36; color:#bcd8ff; border:1px solid #1f2d56; font-size:11px; padding:4px 8px; border-radius:999px }
    .category-bar{
      display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap:10px; margin:16px 0 8px;
    }
    .category{
      background:linear-gradient(180deg, rgba(15,22,42,.9), rgba(17,24,39,.9));
      border:1px solid rgba(148,163,184,.18);
      border-radius:12px; padding:10px 12px;
    }
    .category h3{ margin:0 0 6px; font-size:13px; color:#a5b4fc; letter-spacing:.3px }
    .category p{ margin:0; color:#9fb3d9; font-size:12px }
    footer{ margin-top:22px; color:var(--muted); font-size:12px; text-align:center }
    .empty{ text-align:center; opacity:.7; padding:30px 10px; border:1px dashed var(--border); border-radius:14px }
.toolbar{
  position: sticky; top: 8px; z-index: 50;
  display:flex; flex-wrap:wrap; align-items:center; gap:8px;
  background: var(--panel); padding:8px 10px; border:1px solid var(--border);
  border-radius:12px; box-shadow: var(--shadow);
}
    .pill{
      background:linear-gradient(180deg, #22d3ee, #4f46e5);
      color:#081225; font-weight:800; border:none; border-radius:999px; padding:8px 12px; font-size:12px;
      box-shadow: 0 6px 16px rgba(0,0,0,.25);
    }
    .legend{ font-size:12px; color:var(--muted) }
    @media (max-width:780px){
      .controls{ grid-template-columns: 1fr 1fr; }
      .controls > :last-child{ grid-column: 1 / -1; }
    }
/* === Kopiera-knapp p√• varje kort === */
.copybtn{
  position:absolute; top:10px; right:10px;
  background:rgba(102,224,255,.12); border:1px solid rgba(102,224,255,.3);
  color:#cfe3ff; border-radius:10px; padding:6px 10px; font-size:12px; cursor:pointer;
}
.copybtn:active{ transform:scale(.98) }

/* === Kompakt vy toggle === */
.compact .card-body{ padding:10px 10px 8px }
.compact .blurb{ min-height:auto }
.compact .grid{ gap:10px }

/* === Ljus tema === */
:root.light{
  /* ljus palett */
  --bg: linear-gradient(180deg, #eef2ff 0%, #f8fbff 100%);
  --panel:#eef2ff;
  --ink:#12131a;
  --muted:#505a78;
  --card:#ffffff;
  --border:#c8d1f5;
  --shadow: 0 6px 18px rgba(30,60,150,.18);
}
/* Exempelruta i ljust l√§ge */
:root.light .example{
  color:#18334f;
  border-color:#9db7ff;
  background:#eaf2ff;
}
body {
  margin:0; font:15px/1.55 system-ui,Segoe UI,Roboto,Arial;
  color:var(--ink);
  background: var(--bg);
  transition: background 0.3s ease, color 0.3s ease;
}
.tabs{ display:flex; gap:8px; flex-wrap:wrap; margin:12px 0 8px }
.tabs button{
  background:transparent; color:var(--ink);
  border:1px solid var(--border); border-radius:999px;
  padding:6px 10px; font-size:12px; cursor:pointer;
}
.tabs button.active{ background:var(--accent); color:#fff; border-color:transparent }
.k{ font-weight:800; letter-spacing:.2px; font-size:16px; margin:0 0 6px }
.meta{
  display:inline-block;
  color:#d7ecff; background:rgba(102,224,255,.08);
  border:1px dashed rgba(102,224,255,.28);
  padding:4px 8px; border-radius:8px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size:12px; margin:0 0 10px;
}
:root.light .meta{ color:#143252; background:#eaf2ff; border-color:#9db7ff }
/* Sticky toppl√•da: knappar + text */
.topbar{
  position: sticky;
  top: calc(env(safe-area-inset-top, 0px) + 8px);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px 12px;
  box-shadow: var(--shadow);
}

/* Rad med knapparna ‚Äì ligger kvar i l√•dan */
.toolbar-buttons{
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 10px;
}
.topbar{
  backdrop-filter: saturate(140%) blur(6px);
  background: color-mix(in oklab, var(--panel) 85%, transparent);
}
header{
  position: sticky;
  top: 0;
  z-index: 2000;     /* √∂ver inneh√•llet */
  background: var(--panel);
}
.topbar{
  position: sticky;
  /* header-h√∂jd + safe-area + liten luft */
  top: calc(var(--header-h, 56px) + env(safe-area-inset-top, 0px) + 6px);
  z-index: 3000;

  display:flex; flex-direction:column; gap:8px;
  background: var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:10px 12px;
  box-shadow: var(--shadow);
}
/* Slimmad, tydlig topbar som inte skymmer inneh√•ll */
header{
  position: sticky;
  top: 0;
  z-index: 2000;
  background: var(--panel);
}
/* Appbar ‚Äì glasig, sticky, snygg skugga */
.appbar{
  position: sticky;
  top: env(safe-area-inset-top, 0px);
  z-index: 3000;
  backdrop-filter: saturate(140%) blur(6px);
  background: color-mix(in oklab, var(--panel) 85%, transparent);
  border-bottom: 1px solid var(--border);
}
.appbar-inner{
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
}

/* V√§nster del: logotyp + titlar */
.brand{ display:flex; align-items:center; gap:10px; min-width:0 }
.logo{
  display:grid; place-items:center;
  width:30px; height:30px; border-radius:8px;
  background: linear-gradient(180deg, var(--accent), color-mix(in oklab, var(--accent) 40%, #fff));
  color:#fff; font-size:16px;
}
.titles h1{
  font-size:18px; line-height:1.1; margin:0; color:var(--ink);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.subtitle{
  margin:2px 0 0; font-size:12px; color:var(--muted);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* H√∂ger del: knapparna i en rad, scrollar horisontellt vid tr√•ngt */
.actions{
  display:flex; gap:8px; align-items:center;
  overflow-x:auto; white-space:nowrap; padding-bottom:2px;
}
.actions::-webkit-scrollbar{ display:none; }
.actions .pill{ flex:0 0 auto; }

/* Shrink vid scroll: mindre padding & titlar */
.appbar.shrink .appbar-inner{ padding:6px 10px; }
.appbar.shrink .titles h1{ font-size:16px; }
.appbar.shrink .subtitle{ display:none; }
.appbar.shrink .logo{ width:26px; height:26px; border-radius:7px; }

/* Kompat: ge resten av sidan lite luft under headern */
.wrap{ padding-top: 6px; }

  </style>
</head>
<body>
  <div class="wrap">
   <header class="appbar" id="appbar">
  <div class="appbar-inner">
    <div class="brand">
      <span class="logo">‚úàÔ∏è</span>
      <div class="titles">
        <h1>Amadeus ‚Äî Kommandon & Snabbindex</h1>
        <p class="subtitle">PNR, pricing, ticketing, offers, reissue m.m.</p>
      </div>
    </div>
<div class="actions">
  <button id="focus" class="pill" type="button" title="Fokusera s√∂k">üîç</button>
  <button id="theme" class="pill" type="button" title="Ljus/M√∂rk">üåó</button>
  <button id="density" class="pill" type="button" title="Kompakt vy">üìê</button>
</div>
  </div>
</header>
    <div class="controls">
      <input id="search" type="search" placeholder="S√∂k kommando, text eller tagg ‚Ä¶" />
      <select id="tagSelect">
        <option value="all">Alla taggar</option>
      </select>
      <select id="sort">
        <option value="cmd-asc">Kommando A‚Äì√ñ</option>
        <option value="cmd-desc">Kommando √ñ‚ÄìA</option>
        <option value="group">Efter kategori (tagg)</option>
      </select>
    </div>
<nav class="tabs" id="tabs">
  <button data-tag="PNR">PNR</button>
  <button data-tag="availability">Availability</button>
  <button data-tag="pricing">Pricing</button>
  <button data-tag="offers">Offers</button>
  <button data-tag="ticketing">Ticketing</button>
  <button data-tag="SSR">SSR</button>
  <button data-tag="queues">Queues</button>
  <button data-tag="eticket">E-ticket</button>
  <button data-tag="hotel">Hotel</button>
  <button data-tag="car">Car</button>
</nav>
    <div class="quickbar" id="chips"></div>

    <main id="list" class="grid" aria-live="polite"></main>
    <div id="empty" class="empty" hidden>Inget matchade din filtrering.</div>

    <footer>¬© Conri Turesson- Amadeus Index </footer>
  </div>
  <template id="cardTpl">
    <article class="card">
      <div class="card-body">
        <h2 class="k"></h2>
        <p class="meta"></p>
        <button class="copybtn" title="Kopiera kommando" aria-label="Kopiera">Kopiera</button>
        <p class="blurb"></p>
        <div class="example" hidden></div>
        <div class="taglist"></div>
      </div>
    </article>
  </template>

  <script>
    const DATA_PNR = [
  {"cmd":"SS","title":"SS ‚Äî Sell Segment","desc":"Boka upp given availability line (s√§lja plats).","example":"SS1C1","tags":["PNR","sell"]},
  {"cmd":"NM","title":"NM ‚Äî Name Element","desc":"L√§gg till passagerarnamn.","example":"NM1TURESSON/CONRI MR","tags":["PNR","names"]},
  {"cmd":"APM","title":"APM ‚Äî Mobile","desc":"L√§gg till mobilnummer i PNR.","example":"APM-0046792019653","tags":["PNR","contacts"]},
  {"cmd":"APE","title":"APE ‚Äî Email","desc":"L√§gg till e-postadress i PNR.","example":"APE-CONRI@MAIL.SE","tags":["PNR","contacts"]},
  {"cmd":"SR CTCM","title":"SR CTCM ‚Äî Contact Mobile","desc":"Mobilnummer som SSR till flygbolaget.","example":"SRCTCM-00467071212121","tags":["PNR","SSR","contacts"]},
  {"cmd":"SR CTCE","title":"SR CTCE ‚Äî Contact Email","desc":"E-postadress som SSR till flygbolaget.","example":"SRCTCE-anna//mail.se","tags":["PNR","SSR","contacts"]},
  {"cmd":"RM","title":"RM ‚Äî Remark","desc":"Intern remark i PNR.","example":"RM TEST BOOKING","tags":["PNR","remarks"]},
  {"cmd":"RC","title":"RC ‚Äî Confidential Remark","desc":"Dolt remark, syns ej p√• itinerary.","example":"RC INTERNAL ONLY","tags":["PNR","remarks"]},
  {"cmd":"RIR","title":"RIR ‚Äî Itinerary Remark","desc":"Remark som visas p√• kundens itinerary.","example":"RIR Contact at gate","tags":["PNR","remarks"]},
  {"cmd":"TKTL","title":"TKTL ‚Äî Ticketing Time Limit","desc":"S√§tt biljettdeadline f√∂r bokning.","example":"TKTL25APR","tags":["PNR","ticketing"]},
  {"cmd":"ER","title":"ER ‚Äî End and Retrieve","desc":"Spara bokning och f√• PNR-locator.","example":"ER","tags":["PNR","save"]},
  {"cmd":"IG","title":"IG ‚Äî Ignore","desc":"Avbryt utan att spara √§ndringar.","example":"IG","tags":["PNR","safety"]},
  {"cmd":"RT","title":"RT ‚Äî Retrieve PNR","desc":"H√§mta sparad bokning.","example":"RT KZ6G63","tags":["PNR","retrieve"]},
  {"cmd":"SPX","title":"SPX ‚Äî Split PNR","desc":"Splitta ut passagerare till ny PNR.","example":"SP3 ‚Üí EF ‚Üí ER","tags":["PNR","split"]},
  {"cmd":"EF","title":"EF ‚Äî End Split","desc":"Bekr√§fta split och skapa AXR-l√§nk.","example":"EF","tags":["PNR","split"]},
  {"cmd":"RRN","title":"RRN ‚Äî Copy Seg+AP (no link)","desc":"Kopiera flygstr√§cka+AP rader utan l√§nk.","example":"RRN/X","tags":["PNR","copy"]},
  {"cmd":"RRA","title":"RRA ‚Äî Copy Segments (with link)","desc":"Kopiera flygstr√§cka och skapa l√§nk mellan PNR.","example":"RRA/4","tags":["PNR","copy"]},
  {"cmd":"RRI","title":"RRI ‚Äî Copy Segments (independent)","desc":"Kopiera segment utan l√§nk.","example":"RRI/X","tags":["PNR","copy"]},
  {"cmd":"RRP","title":"RRP ‚Äî Copy Passenger Data","desc":"Kopiera passagerardata mellan PNR.","example":"RRP/X","tags":["PNR","copy"]},
  {"cmd":"MS","title":"MS ‚Äî Move to Line","desc":"Flytta mark√∂ren till rad.","example":"MS 4","tags":["PNR","navigation"]},
  {"cmd":"GP","title":"GP ‚Äî Move to Page","desc":"Hoppa till viss sida i PNR.","example":"GP INT","tags":["PNR","navigation"]},
  {"cmd":"MU/MD/MT/MB","title":"MU/MD/MT/MB ‚Äî Navigation","desc":"Scrolla i PNR (up, down, top, bottom).","example":"MU","tags":["PNR","navigation"]},
  {"cmd":"NHP","title":"NHP ‚Äî Missing Names/Seats","desc":"Felmeddelande: saknar namn/stolsinfo.","example":"NHP p√• HK-rad","tags":["PNR","error"]},
  {"cmd":"RMEFTERN","title":"RMEFTERN ‚Äî Save under Surname","desc":"Spara PNR under efternamn f√∂r retrieval.","example":"RMTURESSON","tags":["PNR","save"]},
  {"cmd":"SIARNK","title":"SIARNK ‚Äî Special Instruction","desc":"Instruktion vid hemresa fr√•n annan plats.","example":"SIARNK ARN","tags":["PNR","special"]}
];
const DATA_AVAIL = [
  {"cmd":"AN","title":"AN ‚Äî Availability (All times)","desc":"Visa alla avg√•ngar en viss dag.","example":"AN15MAYSTOLLA/ASK","tags":["availability","search"]},
  {"cmd":"AE","title":"AE ‚Äî Availability (Shortest time)","desc":"Visa avg√•ngar med kortast flygtid.","example":"AE15MAYSTOLLA/ASK","tags":["availability","search"]},
  {"cmd":"SN","title":"SN ‚Äî Availability by carrier","desc":"Visa avg√•ngar med valt flygbolag.","example":"SN SK","tags":["availability","carrier"]},
  {"cmd":"TN","title":"TN ‚Äî Timetable","desc":"Visar tidtabell f√∂r flight.","example":"TN15MAYSTOLLA","tags":["availability","timetable"]},

  {"cmd":"/ABA","title":"/ABA ‚Äî Include airline(s)","desc":"Filtrera p√• max 6 flygbolag.","example":"AN21MAYSTOLON/ABA,SK","tags":["availability","filter"]},
  {"cmd":"/ASK","title":"/ASK ‚Äî Operating airline only","desc":"Visa endast opererande flygbolag.","example":"AN21MAYSTOLON/ASK","tags":["availability","filter"]},
  {"cmd":"/ASU","title":"/ASU ‚Äî Exclude airline","desc":"Uteslut visst flygbolag.","example":"AN21MAYSTOLON/ASU","tags":["availability","filter"]},
  {"cmd":"/CH","title":"/CH ‚Äî Booking class filter","desc":"Filtrera p√• specifika bokningsklasser (RBD).","example":"AN21MAYSTOLON/CHY,B","tags":["availability","filter"]},
  {"cmd":"/KX","title":"/KX ‚Äî Cabin filter","desc":"Filtrera p√• kabinklass (F,C,Y,W,M).","example":"AN21MAYSTOLON/KC","tags":["availability","filter"]},
  {"cmd":"/KW+","title":"/KW+ ‚Äî Alternative classes","desc":"Visa andra klasser om vald saknas.","example":"AN21MAYSTOLON/KW+","tags":["availability","filter"]},
  {"cmd":"/FN","title":"/FN ‚Äî Nonstop only","desc":"Visa endast direktflyg.","example":"AN21MAYSTOLON/FN","tags":["availability","filter"]},
  {"cmd":"/FD","title":"/FD ‚Äî Nonstop only (alias)","desc":"Samma som /FN.","example":"AN21MAYSTOLON/FD","tags":["availability","filter"]},
  {"cmd":"/BX","title":"/BX ‚Äî Seats required","desc":"Ange antal s√§ten som kr√§vs.","example":"AN21MAYSTOLON/B2","tags":["availability","filter"]},
  {"cmd":"/XCPH","title":"/XCPH ‚Äî Exclude via city","desc":"Uteslut anslutning via viss stad.","example":"AN21MAYSTOLON/XCPH","tags":["availability","filter"]},
  {"cmd":"/IO","title":"/IO ‚Äî Same airline only","desc":"Samtliga segment p√• samma flygbolag.","example":"AN21MAYSTOLON/IO","tags":["availability","filter"]},

  {"cmd":"ACR","title":"ACR ‚Äî Change availability date","desc":"√Ñndra visning till annat datum/tid.","example":"ACR12MAY1900","tags":["availability","navigation"]},
  {"cmd":"ACR+/-","title":"ACR+/- offset","desc":"Flytta visning X dagar fram√•t/bak√•t.","example":"ACR3 (tre dagar senare)","tags":["availability","navigation"]}
];
const DATA_PRICING = [
  {"cmd":"FXP","title":"FXP ‚Äî Price Itinerary (keeps RBD)","desc":"Priss√§tter bokade klasser och skapar TST.","example":"FXP/R,UP","tags":["pricing","TST"]},
  {"cmd":"FXA","title":"FXA ‚Äî Low fare search","desc":"Visar alternativa l√§gsta priser, beh√•ller inte klasser.","example":"FXA/R,UP","tags":["pricing","search"]},
  {"cmd":"FXB","title":"FXB ‚Äî Auto lowest (rebook)","desc":"Bokar om till l√§gsta tillg√§ngliga fare.","example":"FXB/R,UP","tags":["pricing","rebook"]},
  {"cmd":"FXD","title":"FXD ‚Äî Master pricing","desc":"J√§mf√∂r priss√§ttning mellan olika validerande carriers.","example":"FXD/R,UP","tags":["pricing","fares"]},
  {"cmd":"FXX","title":"FXX ‚Äî Informative pricing","desc":"Visar indikation p√• pris utan att skapa TST.","example":"FXX/R,UP","tags":["pricing","informative"]},
  {"cmd":"FXT","title":"FXT ‚Äî Choose fare alt","desc":"V√§lj alternativ fr√•n fare listan.","example":"FXT2","tags":["pricing","fares"]},
  {"cmd":"FXS","title":"FXS ‚Äî Select pax/segments","desc":"Begr√§nsa priss√§ttning till viss pax eller segment.","example":"FXS/P1/S2","tags":["pricing","TST"]},
  {"cmd":"FXU","title":"FXU ‚Äî Update TST","desc":"Uppdaterar TST efter rebooking.","example":"FXU3","tags":["pricing","TST"]},
  {"cmd":"FXZ","title":"FXZ ‚Äî Book without pricing","desc":"Bokar segment utan att priss√§tta.","example":"FXZ4","tags":["pricing","PNR"]},

  {"cmd":"FQQ","title":"FQQ ‚Äî Fare quote info","desc":"Visar detaljerad fare info f√∂r en rad.","example":"FQQ3","tags":["pricing","fares"]},
  {"cmd":"FQD","title":"FQD ‚Äî Fare display","desc":"Fare display mellan city pair p√• visst datum.","example":"FQDSTOLON/D03MAY/R,UP","tags":["pricing","fares"]},
  {"cmd":"FQN","title":"FQN ‚Äî Fare basis rules","desc":"Visar regelkapitel f√∂r fare basis.","example":"FQN01*","tags":["pricing","rules"]},
  {"cmd":"PEN","title":"PEN ‚Äî Penalties","desc":"Visar penalty-chapter f√∂r vald fare.","example":"PEN","tags":["pricing","rules"]},

  {"cmd":"TQT","title":"TQT ‚Äî TST display","desc":"Visar TST details (graphic).","example":"TQT","tags":["pricing","TST"]},
  {"cmd":"TTE/ALL","title":"TTE/ALL ‚Äî Delete all TST","desc":"Raderar alla TST i PNR.","example":"TTE/ALL","tags":["pricing","TST"]},
  {"cmd":"TTE/Lx","title":"TTE/Lx ‚Äî Delete line TST","desc":"Raderar en specifik TST-line.","example":"TTE/L2","tags":["pricing","TST"]},

  {"cmd":"/SBF","title":"/SBF ‚Äî Include baggage","desc":"Inkludera bagage vid pricing.","example":"FXP/R,UP/SBF","tags":["pricing","baggage"]},

  {"cmd":"OFFER FLOW","title":"Offer flow (overview)","desc":"FXX ‚Üí FXT ‚Üí OFS ‚Üí OFV ‚Üí OFK ‚Üí ER.","example":"FXX/R,UP ‚Üí FXT1 ‚Üí OFS ‚Üí OFV1 ‚Üí OFK1 ‚Üí ER","tags":["pricing","offers"]}
];
const DATA_OFFERS = [
  {"cmd":"OFS","title":"OFS ‚Äî Store offer","desc":"Lagrar en vald fare som ett offer i PNR.","example":"OFS","tags":["offers","pricing"]},
  {"cmd":"OFV","title":"OFV ‚Äî Verify seats","desc":"Verifierar s√§ten f√∂r lagrat offer.","example":"OFV1","tags":["offers","pricing"]},
  {"cmd":"OFK","title":"OFK ‚Äî Confirm offer","desc":"Bekr√§ftar ett offer och bokar in.","example":"OFK1","tags":["offers","pricing"]},
  {"cmd":"OFVX","title":"OFVX ‚Äî Verify alt offer","desc":"Verifierar alternativ offer (extended).","example":"OFVX2","tags":["offers","pricing"]},
  {"cmd":"RTOF","title":"RTOF ‚Äî Return to offers","desc":"√Öterv√§nder till listan av offers.","example":"RTOF","tags":["offers","navigation"]},
  {"cmd":"OFFER FLOW","title":"Offer Flow (overview)","desc":"Fullt fl√∂de: FXX ‚Üí FXT ‚Üí OFS ‚Üí OFV ‚Üí OFK ‚Üí ER.","example":"FXX/R,UP ‚Üí FXT1 ‚Üí OFS ‚Üí OFV1 ‚Üí OFK1 ‚Üí ER","tags":["offers","pricing"]}
];
const DATA_TICKETING = [
  {"cmd":"FP","title":"FP ‚Äî Form of Payment","desc":"Ange betalningss√§tt f√∂r biljettering.","example":"FP CASH","tags":["ticketing","payment"]},
  {"cmd":"FP CC","title":"FP ‚Äî Credit Card","desc":"Kreditkort som betalning, inkl. typ + nummer.","example":"FP VI4444333322221111/1219","tags":["ticketing","payment"]},
  {"cmd":"FP INV","title":"FP ‚Äî Invoice","desc":"Fakturabetalning.","example":"FP INV12345","tags":["ticketing","payment"]},
  {"cmd":"FPNONREF","title":"FP NONREF","desc":"Betalning utan √•terbetalning.","example":"FPNONREF","tags":["ticketing","payment"]},

  {"cmd":"AX","title":"AX ‚Äî American Express","desc":"Kreditkortskod f√∂r AmEx.","example":"FP 444433332222/1225","tags":["ticketing","payment"]},
  {"cmd":"VI","title":"VI ‚Äî Visa","desc":"Kreditkortskod f√∂r Visa.","example":"FP VI4444333322221111/1225","tags":["ticketing","payment"]},
  {"cmd":"CA","title":"CA ‚Äî Mastercard","desc":"Kreditkortskod f√∂r Mastercard (CA).","example":"FP CA5105105105105100/1225","tags":["ticketing","payment"]},
  {"cmd":"DC","title":"DC ‚Äî Diners Club","desc":"Kreditkortskod f√∂r Diners Club.","example":"FP DC30000000000004/1225","tags":["ticketing","payment"]},

  {"cmd":"TTP","title":"TTP ‚Äî Ticketing (issue)","desc":"Validera och utf√§rda e-biljett.","example":"TTP","tags":["ticketing","issue"]},
  {"cmd":"TTP/RT","title":"TTP/RT ‚Äî Issue & retrieve","desc":"Utf√§rdar biljett och h√§mtar PNR direkt.","example":"TTP/RT","tags":["ticketing","issue"]},
  {"cmd":"TKT","title":"TKT ‚Äî Alternative entry","desc":"Alias till TTP.","example":"TKT","tags":["ticketing","issue"]},

  {"cmd":"FXG/ALL","title":"FXG/ALL ‚Äî Price ancillaries","desc":"Priss√§ttning av till√§ggstj√§nster (EMD).","example":"FXG/ALL","tags":["EMD","ancillary"]},
  {"cmd":"TQM","title":"TQM ‚Äî TSM display","desc":"Visar detaljer f√∂r TSM (ancillary pricing).","example":"TQM","tags":["EMD","TSM"]},
  {"cmd":"TMI","title":"TMI ‚Äî Modify TSM","desc":"√Ñndra TSM (t.ex. betalning).","example":"TMI/FP-CASH","tags":["EMD","TSM"]},
  {"cmd":"TTM","title":"TTM ‚Äî Issue EMD","desc":"Utf√§rdar EMD (Electronic Misc Document).","example":"TTM","tags":["EMD","issue"]}
];
const DATA_SSR = [
  {"cmd":"SR","title":"SR ‚Äî Service Request","desc":"Generellt kommando f√∂r special service requests.","example":"SRVGML","tags":["SSR","services"]},
  {"cmd":"SM","title":"SM ‚Äî Seat Map","desc":"√ñppnar s√§teskarta (d√§r tillg√§ngligt).","example":"SM","tags":["SSR","seats"]},
  {"cmd":"SRSEAT","title":"SR SEAT ‚Äî Assign seat","desc":"Reservera specifikt s√§te.","example":"SRST 12A","tags":["SSR","seats"]},
  {"cmd":"SRBAG","title":"SR BAG ‚Äî Baggage","desc":"L√§gg till extra bagage.","example":"SR XBAG-1PC","tags":["SSR","baggage"]},
  {"cmd":"SRWCHR","title":"SR WCHR ‚Äî Wheelchair","desc":"Rullstol (to/from gate).","example":"SRWCHR","tags":["SSR","special needs"]},
  {"cmd":"SRWCHC","title":"SR WCHC ‚Äî Wheelchair Cabin","desc":"Rullstol hela v√§gen till kabin.","example":"SRWCHC","tags":["SSR","special needs"]},
  {"cmd":"SRMEDA","title":"SR MEDA ‚Äî Medical case","desc":"Medicinsk assistans (Medical case).","example":"SRMEDA","tags":["SSR","special needs"]},
  {"cmd":"SRUMNR","title":"SR UMNR ‚Äî Unaccompanied minor","desc":"Boka ensamresande barn.","example":"SRUMNR05","tags":["SSR","UMNR"]},

  // Meal codes (samtliga som i Amadeus standard)
  {"cmd":"AVML","title":"AVML ‚Äî Asian Vegetarian Meal","desc":"Vegetarisk indisk stil, ej k√∂tt/fisk/√§gg.","example":"SRAVML","tags":["SSR","meal"]},
  {"cmd":"BBML","title":"BBML ‚Äî Baby Meal","desc":"Barnmat f√∂r sp√§dbarn.","example":"SRBBML","tags":["SSR","meal"]},
  {"cmd":"BLML","title":"BLML ‚Äî Bland Meal","desc":"Mjuk, l√§ttsm√§lt mat (soft/bland).","example":"SRBLML","tags":["SSR","meal"]},
  {"cmd":"CHML","title":"CHML ‚Äî Child Meal","desc":"Anpassad f√∂r barn.","example":"SRCHML","tags":["SSR","meal"]},
  {"cmd":"DBML","title":"DBML ‚Äî Diabetic Meal","desc":"Diabetiker-anpassad m√•ltid.","example":"SRDBML","tags":["SSR","meal"]},
  {"cmd":"GFML","title":"GFML ‚Äî Gluten-Free Meal","desc":"Fri fr√•n gluten.","example":"SRGFML","tags":["SSR","meal"]},
  {"cmd":"HNML","title":"HNML ‚Äî Hindu Meal (Non-veg)","desc":"Traditionell hinduisk, ej n√∂tk√∂tt.","example":"SRHNML","tags":["SSR","meal"]},
  {"cmd":"KSML","title":"KSML ‚Äî Kosher Meal","desc":"Judisk kost (kosher).","example":"SRKSML","tags":["SSR","meal"]},
  {"cmd":"LCML","title":"LCML ‚Äî Low Calorie Meal","desc":"Kalorisn√•l kost.","example":"SRLCML","tags":["SSR","meal"]},
  {"cmd":"LFML","title":"LFML ‚Äî Low Fat Meal","desc":"Fettsn√•l kost.","example":"SRLFML","tags":["SSR","meal"]},
  {"cmd":"LPML","title":"LPML ‚Äî Low Protein Meal","desc":"Proteinreducerad kost.","example":"SRLPML","tags":["SSR","meal"]},
  {"cmd":"LSML","title":"LSML ‚Äî Low Salt Meal","desc":"Saltfattig kost.","example":"SRLSML","tags":["SSR","meal"]},
  {"cmd":"MOML","title":"MOML ‚Äî Muslim Meal","desc":"Halal-anpassad m√•ltid.","example":"SRMOML","tags":["SSR","meal"]},
  {"cmd":"NLML","title":"NLML ‚Äî Non-Lactose Meal","desc":"Fri fr√•n laktos.","example":"SRNLML","tags":["SSR","meal"]},
  {"cmd":"ORML","title":"ORML ‚Äî Oriental Meal","desc":"Asiatisk-inspirerad kost.","example":"SRORML","tags":["SSR","meal"]},
  {"cmd":"PRML","title":"PRML ‚Äî Low Purin Meal","desc":"L√•gpurinkost (t.ex. gikt).","example":"SRPRML","tags":["SSR","meal"]},
  {"cmd":"RVML","title":"RVML ‚Äî Raw Vegetarian","desc":"Endast r√•a vegetabilier.","example":"SRRVML","tags":["SSR","meal"]},
  {"cmd":"SFML","title":"SFML ‚Äî Seafood Meal","desc":"Fisk och skaldjur.","example":"SRSFML","tags":["SSR","meal"]},
  {"cmd":"SPML","title":"SPML ‚Äî Special Meal","desc":"Specialkost (specify).","example":"SRSPML-LOWCARB","tags":["SSR","meal"]},
  {"cmd":"VGML","title":"VGML ‚Äî Vegetarian Meal","desc":"Lakto-ovo vegetarisk.","example":"SRVGML","tags":["SSR","meal"]},
  {"cmd":"VLML","title":"VLML ‚Äî Lacto-ovo Veg","desc":"Vegetarisk inkl. √§gg och mejeri.","example":"SRVLML","tags":["SSR","meal"]},
  {"cmd":"VJML","title":"VJML ‚Äî Jain Meal","desc":"Jain-vegetarisk (ingen rotfrukt).","example":"SRVJML","tags":["SSR","meal"]}
];
const DATA_ERRORS = [
  // Availability & booking status codes
  {"cmd":"HK","title":"HK ‚Äî Holding Confirmed","desc":"Segmentet √§r bekr√§ftat.","example":"HK1","tags":["status","segments"]},
  {"cmd":"HL","title":"HL ‚Äî Holding Waitlist","desc":"Segmentet ligger p√• v√§ntelista.","example":"HL1","tags":["status","segments"]},
  {"cmd":"HN","title":"HN ‚Äî Holding Need","desc":"Beg√§rd plats, v√§ntar p√• svar.","example":"HN1","tags":["status","segments"]},
  {"cmd":"NO","title":"NO ‚Äî No action taken","desc":"Inget svar fr√•n carrier/system.","example":"NO1","tags":["status","segments"]},
  {"cmd":"UC","title":"UC ‚Äî Unable to Confirm","desc":"Ingen plats bekr√§ftad, flight full/closed.","example":"UC1","tags":["status","segments"]},
  {"cmd":"UN","title":"UN ‚Äî Unable, flight not operating","desc":"Flighten √§r inst√§lld / ej operativ.","example":"UN1","tags":["status","segments"]},
  {"cmd":"US","title":"US ‚Äî Unable, flight sold out","desc":"Segmentet √§r sluts√•lt.","example":"US1","tags":["status","segments"]},
  {"cmd":"HX","title":"HX ‚Äî Cancelled by airline","desc":"Segment annullerat av flygbolag.","example":"HX1","tags":["status","segments"]},
  {"cmd":"TK","title":"TK ‚Äî Time Change","desc":"Flighttid √§ndrad av airline (requires action).","example":"TK1","tags":["status","segments"]},

  // PNR errors & warnings
  {"cmd":"NHP","title":"NHP ‚Äî Missing Name/Seats","desc":"Felmeddelande: saknas namn eller s√§ten i PNR.","example":"NHP","tags":["error","PNR"]},
  {"cmd":"NEED SEG SEL","title":"NEED SEG SEL","desc":"Systemet kr√§ver att du v√§ljer segmentnummer.","example":"FXQ ‚Üí NEED SEG SEL","tags":["error","pricing"]},
  {"cmd":"CHECK TST","title":"CHECK TST","desc":"Systemet flaggar att TST beh√∂ver granskas.","example":"TQT ‚Üí CHECK TST","tags":["error","pricing"]},
  {"cmd":"NEED NAME","title":"NEED NAME","desc":"PNR saknar namn, m√•ste l√§ggas in.","example":"NM1...","tags":["error","PNR"]},
  {"cmd":"NEED FP","title":"NEED FP","desc":"PNR saknar form of payment.","example":"FP CASH","tags":["error","ticketing"]},

  // System error messages
  {"cmd":"INVALID FORMAT","title":"INVALID FORMAT","desc":"Fel syntax i kommandot.","example":"FP/123 ‚Üí INVALID FORMAT","tags":["error","system"]},
  {"cmd":"INVALID DATE","title":"INVALID DATE","desc":"Ogiltigt datum inskrivet.","example":"AN32FEB","tags":["error","system"]},
  {"cmd":"SEGMENT ERROR","title":"SEGMENT ERROR","desc":"Fel i segmentinput, ofta saknas info.","example":"SS1A ‚Üí SEGMENT ERROR","tags":["error","system"]},
  {"cmd":"ENTRY NOT VALID","title":"ENTRY NOT VALID","desc":"Kommandot kan inte anv√§ndas i detta l√§ge.","example":"ER i fel steg","tags":["error","system"]},
  {"cmd":"NEED TST","title":"NEED TST","desc":"TST kr√§vs innan biljett kan utf√§rdas.","example":"TTP ‚Üí NEED TST","tags":["error","ticketing"]},
  {"cmd":"TST REQUIRED","title":"TST REQUIRED","desc":"Alias till NEED TST.","example":"TTP ‚Üí TST REQUIRED","tags":["error","ticketing"]},

  // Misc airline/airport messages
  {"cmd":"AUTH FAIL","title":"AUTH FAIL","desc":"Autorisering misslyckades (t.ex. vid FP).","example":"FP DC... ‚Üí AUTH FAIL","tags":["error","payment"]},
  {"cmd":"NEED AUTH","title":"NEED AUTH","desc":"Kr√§ver authorisation code.","example":"FP AX.../A12345","tags":["error","payment"]},
  {"cmd":"DUPLICATE SEGMENT","title":"DUPLICATE SEGMENT","desc":"Samma flight/klass redan bokad.","example":"SS1Y1 ‚Üí DUPLICATE SEGMENT","tags":["error","PNR"]}
];
const DATA_QUEUE = [
  {"cmd":"QD","title":"QD ‚Äî Queue Display/Counts","desc":"Visar vilka k√∂er som har PNR och hur m√•nga i varje. Anv√§nds f√∂r att f√• √∂verblick innan du g√•r in i en specifik k√∂.","example":"QD 95C1  (t.ex. Office 95, Category 1)","tags":["queues","overview"]},

  {"cmd":"QD Cx","title":"QD Cx ‚Äî Display Category x","desc":"Visar antal PNR i en specifik kategori (x) f√∂r vald office/queue.","example":"QD 95C14  (Category 14)","tags":["queues","overview"]},

  {"cmd":"QN","title":"QN ‚Äî Queue Next (retrieve)","desc":"H√§mtar n√§sta PNR i den k√∂ du st√•r i. K√∂r QN upprepat f√∂r att bl√§ddra igenom alla poster.","example":"QN","tags":["queues","work"]},

  {"cmd":"QE","title":"QE ‚Äî End Queue","desc":"Avslutar k√∂hantering och l√§mnar k√∂n (tillbaka till normal vy).","example":"QE","tags":["queues","work"]},

  {"cmd":"QR","title":"QR ‚Äî Remove from Queue","desc":"Tar bort aktuell PNR fr√•n k√∂n n√§r du √§r klar med den. Anv√§nd efter att du gjort dina √•tg√§rder och sparat (ER).","example":"ER ‚Üí QR","tags":["queues","action"]},

  {"cmd":"QP","title":"QP ‚Äî Place PNR on Queue","desc":"L√§gger aktiv PNR i en viss k√∂kategori (manuell parkering eller handover).","example":"QP/14  (placera p√• Category 14)","tags":["queues","action"]},

  {"cmd":"QP /Office/Category","title":"QP ‚Äî Specify office/category","desc":"Placera PNR i annans office eller specifik kategori. Anv√§nds f√∂r arbetsf√∂rdelning mellan kontor/teams.","example":"QP/95C14","tags":["queues","action"]},

  {"cmd":"QN + QR","title":"QN + QR ‚Äî Bearbeta k√∂","desc":"Standardm√∂nster: h√§mta n√§sta PNR (QN), g√∂r √•tg√§rder (t.ex. FXP/TTP), spara (ER) och ta bort fr√•n k√∂n (QR).","example":"QN ‚Üí (√•tg√§rd) ‚Üí ER ‚Üí QR ‚Üí QN","tags":["queues","flow"]},

  {"cmd":"Queue Tips","title":"Queue Best Practice","desc":"S√§tt en intern rutin per kategori: vad ska g√∂ras innan QR? (t.ex. kontrollera TST/TKT, skicka itinerary, uppdatera RM/RIR).","example":"K14: schema√§ndring ‚Üí kontakta kund ‚Üí uppdatera remark ‚Üí ER ‚Üí QR","tags":["queues","practice"]},

  {"cmd":"QUEUE FLOW","title":"Queue Flow (overview)","desc":"√ñversikt: QD (√∂versikt) ‚Üí QD Cx (v√§lj kategori) ‚Üí QN (in i PNR) ‚Üí √•tg√§rd ‚Üí ER ‚Üí QR ‚Üí QN ‚Ä¶ ‚Üí QE n√§r klart.","example":"QD ‚Üí QD C14 ‚Üí QN ‚Üí (fix) ‚Üí ER ‚Üí QR ‚Üí QN ‚Üí ‚Ä¶ ‚Üí QE","tags":["queues","flow"]}
];
const DATA_ETICKET = [
  {"cmd":"TWD","title":"TWD ‚Äî Display e-ticket","desc":"Visar e-biljett f√∂r vald passagerare. Default visar senaste utf√§rdade biljett i PNR.","example":"TWD","tags":["eticket","display"]},

  {"cmd":"TWD/TKT","title":"TWD/TKT ‚Äî Display by ticket nbr","desc":"Visar e-biljett baserat p√• fullst√§ndigt biljett-/dokumentnummer.","example":"TWD/TKT 117-1234567890","tags":["eticket","display"]},

  {"cmd":"TWD/Lx","title":"TWD/Lx ‚Äî Display coupon line","desc":"Visar en specifik kupongrad i biljetten.","example":"TWD/L2","tags":["eticket","coupon"]},

  {"cmd":"TWD/EMD","title":"TWD/EMD ‚Äî Display EMD","desc":"Visar EMD (Electronic Misc Document) kopplad till PNR, t.ex. f√∂r bagage eller serviceavgifter.","example":"TWD/EMD 117-9988776655","tags":["EMD","display"]},

  {"cmd":"TWD/TSM","title":"TWD/TSM ‚Äî Display TSM","desc":"Visar TSM (Transitional Stored Misc doc) innan utf√§rdande.","example":"TWD/TSM1","tags":["EMD","TSM"]},

  {"cmd":"TWP","title":"TWP ‚Äî Print e-ticket/EMD","desc":"Skapar utskrift eller PDF av e-ticket/EMD. Kr√§ver ofta skrivarkod eller elektronisk routing.","example":"TWP/TKT","tags":["eticket","print"]},

  {"cmd":"TJQ","title":"TJQ ‚Äî Query agent coupons","desc":"Rapport: listar biljetter utf√§rdade av specifik agent (sales report).","example":"TJQ/SU","tags":["eticket","report"]},

  {"cmd":"TJR","title":"TJR ‚Äî Query office coupons","desc":"Rapport: listar biljetter/EMD per office (office report).","example":"TJR","tags":["eticket","report"]},

  {"cmd":"Revalidate vs Reissue","title":"Revalidate vs Reissue","desc":"TWD ‚Üí kontrollera kupongstatus. Revalidate (TTP/ETRV) anv√§nds vid tid√§ndringar utan fare skillnad. Reissue (FXI/FXQ) anv√§nds vid fare skillnad eller routing change.","example":"TWD/Lx ‚Üí (check status) ‚Üí TTP/ETRV eller FXQ/FXI","tags":["eticket","revalidation"]}
];
const DATA_OSI_SSR = [
  {"cmd":"OS","title":"OS ‚Äî Other Service Information","desc":"Fri text till flygbolag. Ingen strukturerad validering. Bra f√∂r info som inte kr√§ver action.","example":"OS SK PLEASE NOTE PAX BIRTHDAY 15MAY","tags":["OSI","airlines","info"]},
  {"cmd":"SR","title":"SR ‚Äî Special Service Request","desc":"Strukturerad beg√§ran (m√•ltid, s√§te, bagage, assistans). Kr√§ver korrekt kod och format.","example":"SR AVML  |  SR WCHR","tags":["SSR","services"]},
  {"cmd":"OS vs SR","title":"OS vs SR ‚Äî N√§r anv√§nder du vad?","desc":"SR n√§r bolaget ska ‚Äòg√∂ra‚Äô n√•got (systeml√§ser koden). OS n√§r du bara vill informera (fri text).","example":"Behov av rullstol = SR WCHR. Info ‚Äòkund fyller √•r‚Äô = OS.","tags":["guide","best practice"]},
  {"cmd":"CTCM/CTCE","title":"SR CTCM/CTCE ‚Äî Kontakt via SSR","desc":"Skicka tel/e-post till airline via SSR (kr√§ver r√§tt format).","example":"SR CTCM-00467‚Ä¶  |  SR CTCE-namn//mail.se","tags":["SSR","contacts"]},
  {"cmd":"OS-carrier","title":"OS XX ‚Äî OSI till specifikt bolag","desc":"Rikta OSI till visst flygbolag med deras kod.","example":"OS SK PAX WILL CHECK IN LATE","tags":["OSI","airlines"]}
];
const DATA_HOTELS = [
  {"cmd":"HHL","title":"HHL ‚Äî Hotel List","desc":"Hotell-tillg√§nglighet i vald ort och datum.","example":"HHL STO 15MAY-17MAY /RT-DBL /PR-100-200","tags":["hotel","availability"]},
  {"cmd":"HBD","title":"HBD ‚Äî Hotel Details","desc":"Detaljer f√∂r valt hotell fr√•n listan.","example":"HBD 3","tags":["hotel","details"]},
  {"cmd":"HHR","title":"HHR ‚Äî Hotel Rates","desc":"Visar rate/rumstyp f√∂r valt hotell.","example":"HHR 3","tags":["hotel","rates"]},
  {"cmd":"HHE","title":"HHE ‚Äî Hotel Entry (sell)","desc":"Boka rum (efter HHR/HBD).","example":"HHE 3/D1","tags":["hotel","sell"]},
  {"cmd":"HB-filter","title":"HB filter ‚Äî Datum/ort/filter","desc":"Kombinera datum, antal n√§tter, prisintervall, kedja, omr√•de.","example":"HHL ARN 12JUN-2NT /PR-800-1400 /CH-SH (Scandic)","tags":["hotel","filters"]},
  {"cmd":"Hotel flow","title":"Hotel ‚Äî flow","desc":"HHL (lista) ‚Üí HBD (detalj) ‚Üí HHR (rate) ‚Üí HHE (sell) ‚Üí ER.","example":"HHL ‚Üí HBD 2 ‚Üí HHR 2 ‚Üí HHE 2/D1 ‚Üí ER","tags":["hotel","flow"]}
];
const DATA_CAR = [
  {"cmd":"CAC","title":"CAC ‚Äî Car Availability","desc":"Hyrbilstillg√§nglighet (datum, ort, tid).","example":"CAC ARN 15MAY/0900-17MAY/1700 /CT-ECMN","tags":["car","availability"]},
  {"cmd":"CAR","title":"CAR ‚Äî Car Rates","desc":"Rate-display f√∂r vald bilklass/leverant√∂r.","example":"CAR 2","tags":["car","rates"]},
  {"cmd":"CAI","title":"CAI ‚Äî Car Information","desc":"Villkor, inkluderat, mileage, dep√•krav.","example":"CAI 2","tags":["car","info"]},
  {"cmd":"CS","title":"CS ‚Äî Car Sell","desc":"Boka hyrbil (efter CAC/CAR).","example":"CS 2","tags":["car","sell"]},
  {"cmd":"Car flow","title":"Car ‚Äî flow","desc":"CAC (lista) ‚Üí CAI (villkor) ‚Üí CAR (rate) ‚Üí CS (sell) ‚Üí ER.","example":"CAC ‚Üí CAI 2 ‚Üí CAR 2 ‚Üí CS 2 ‚Üí ER","tags":["car","flow"]}
];
const DATA_DIAG = [
  {"cmd":"RH","title":"RH ‚Äî Record History","desc":"Visar PNR-historik: vem gjorde vad, n√§r.","example":"RH","tags":["diagnostic","history"]},
  {"cmd":"MD","title":"MD ‚Äî More Data","desc":"Bl√§ddra ned√•t i l√•nga visningar (forts√§ttning).","example":"MD","tags":["diagnostic","navigation"]},
  {"cmd":"PE","title":"PE ‚Äî Print/Itinerary","desc":"Utskrifts-/itinerary-l√§ge (format beroende p√• setup).","example":"PE","tags":["diagnostic","print"]},
  {"cmd":"DO","title":"DO ‚Äî Flight/Itin Info","desc":"Fakta om flight/PNR-f√§rdplan, snabbt f√∂r koll.","example":"DO","tags":["diagnostic","reference"]}
];
const DATA_DOCS = [
  {"cmd":"TWD","title":"TWD ‚Äî Visa e-ticket","desc":"Snabb √•tkomst till e-biljett i PNR.","example":"TWD","tags":["docs","eticket"]},
  {"cmd":"TWP","title":"TWP ‚Äî Print ticket/EMD","desc":"Utskrift/PDF av TKT/EMD beroende p√• setup.","example":"TWP/TKT","tags":["docs","print"]},
  {"cmd":"TJQ","title":"TJQ ‚Äî Agent sales report","desc":"Lista kuponger utf√§rdade av agent.","example":"TJQ/SU","tags":["docs","report"]},
  {"cmd":"TJR","title":"TJR ‚Äî Office sales report","desc":"Lista kuponger per office.","example":"TJR","tags":["docs","report"]},
  {"cmd":"TWD/EMD","title":"TWD/EMD ‚Äî Visa EMD","desc":"Se EMD-kuponger och status.","example":"TWD/EMD 117-9988776655","tags":["docs","EMD"]}
];
const DATA_FLOWS = [
  {"cmd":"Flow: Ny PNR","title":"Ny PNR ‚Äî Checklista","desc":"Varf√∂r varje steg? AN (utbud) ‚Üí SS (s√§lja) ‚Üí NM (namn) ‚Üí AP* (kontakt) ‚Üí SR CTCM/CTCE (till airline) ‚Üí TKTL (deadline) ‚Üí ER (spara). Fallgropar: gl√∂mt namn (NEED NAME), ingen FP innan TTP, fel SSR-format.","example":"AN ‚Üí SS ‚Üí NM ‚Üí APM/APE ‚Üí SR CTCM/CTCE ‚Üí TKTL ‚Üí ER","tags":["flow","PNR"]},

  {"cmd":"Flow: Pricing-beslut","title":"Pricing ‚Äî Beslutstr√§d","desc":"FXP (beh√•ll bokad klass), FXB (auto-l√§gst, kan rebooka), FXA (utforska). L√§s FQN/PEN innan du lovar omboknings-/refundregler. /SBF n√§r bagage ska ing√•.","example":"FXP vs FXB vs FXA; + /SBF n√§r n√∂dv√§ndigt","tags":["flow","pricing"]},

  {"cmd":"Flow: Voluntary change","title":"Voluntary change (FXQ/FXF)","desc":"V√§lj segment (Sx,x), bygg ny TST, kontrollera TQM/EMD om skillnader, issue (TTP/Tx) och EMD (TTM/Mx).","example":"FXQ /S2,3 /R,UP ‚Üí TQT ‚Üí TQM ‚Üí TTP/T2 ‚Üí TTM/M1","tags":["flow","reissue"]},

  {"cmd":"Flow: Schedule change","title":"Schedule change ‚Äî Revalidate vs Reissue","desc":"Revalidate n√§r endast tid √§ndrats och fare/routing √§r of√∂r√§ndrad (TTP/ETRV). Reissue (FXI/FXQ) n√§r fare diff, routing byte eller kupongstatus kr√§ver det.","example":"TWD/Lx ‚Üí status ok? ‚Üí TTP/ETRV annars FXI/FXQ","tags":["flow","irrops"]}
];
const DATA_TROUBLESHOOT = [
  {"cmd":"UC/US/UN","title":"UC/US/UN ‚Äî Ingen plats/ej operativ","desc":"Byt klass (/KW+), vidga carriers (/ABA), eller √§ndra rutt (exkludera nav med /XCPH).","example":"AN ‚Ä¶ /KW+  |  AN ‚Ä¶ /ABA,SK,SN  |  AN ‚Ä¶ /XCPH","tags":["troubleshoot","availability"]},
  {"cmd":"NEED SEG SEL","title":"NEED SEG SEL ‚Äî V√§lj segment","desc":"Specificera segment i kommandot.","example":"FXQ /S2  |  FXQ /S2,3","tags":["troubleshoot","pricing"]},
  {"cmd":"CHECK/NEED TST","title":"CHECK/NEED TST ‚Äî TST saknas/fel","desc":"Visa TST (TQT), uppdatera (FXU) eller radera linje (TTE/Lx) och priss√§tt om (FXP) innan TTP.","example":"TQT ‚Üí FXU 3  |  TTE/L2 ‚Üí FXP","tags":["troubleshoot","ticketing"]},
  {"cmd":"AUTH FAIL/NEED AUTH","title":"AUTH FAIL/NEED AUTH ‚Äî Betalning","desc":"FP med korrekt korttyp och giltighet, ev. auktorisationskod. Fallback: FP CASH/INV.","example":"FP VI.../1225 (/A12345)  |  FP CASH","tags":["troubleshoot","payment"]}
];
const DATA_GOTCHAS = [
  {"cmd":"CTCM/CTCE-format","title":"Kontaktformat (SE)","desc":"CTCM med landskod 0046‚Ä¶ CTCE med dubbla snedstreck f√∂re dom√§n.","example":"SRCTCM-00467XXXXXXXX  |  SRCTCE-NAMN//MAIL.SE","tags":["best practice","contacts"]},
  {"cmd":"Offers vs FXP","title":"Offers eller ren FXP/ER?","desc":"Offers (OFS/OFV/OFK) √§r bra vid r√•dgivning/urval. Ren FXP/ER √§r snabbast/robust i enkla √§renden.","example":"FXX ‚Üí FXT n ‚Üí OFS/OFV/OFK vs FXP ‚Üí ER","tags":["best practice","offers"]},
  {"cmd":"Remark-policy","title":"RC vs RIR","desc":"RC f√∂r internt (konfidentiellt), RIR f√∂r kundsynligt itinerary-meddelande.","example":"RC INTERNAL; RIR Contact gate on arrival","tags":["best practice","remarks"]},
  {"cmd":"UMNR-policy","title":"UMNR ‚Äî L√§s airline-regler","desc":"Kolla GGAIR XX MINOR innan SR UMNR; √•ldersgr√§nser och avgifter skiljer sig.","example":"GGAIR SK MINOR ‚Üí SRUMNR05","tags":["best practice","UMNR"]}
];
const DATA = [
  ...DATA_PNR,
  ...DATA_AVAIL,
  ...DATA_PRICING,
  ...DATA_OFFERS,
  ...DATA_TICKETING,
  ...DATA_SSR,
  ...DATA_ERRORS,
  ...DATA_QUEUE,
  ...DATA_ETICKET,
  ...DATA_OSI_SSR,
  ...DATA_HOTELS,
  ...DATA_CAR,
  ...DATA_DIAG,
  ...DATA_DOCS,
  ...DATA_FLOWS,
  ...DATA_TROUBLESHOOT,
  ...DATA_GOTCHAS
];
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    const search = $('#search');
    const list = $('#list');
    const empty = $('#empty');
    const tpl = $('#cardTpl');
    const tagSelect = $('#tagSelect');
    const chips = $('#chips');
    const sort = $('#sort');

    const allTags = Array.from(new Set(DATA.flatMap(x => x.tags))).sort((a,b)=>a.localeCompare(b,'sv'));
    allTags.forEach(t => {
      const opt = document.createElement('option');
      opt.value = t; opt.textContent = t;
      tagSelect.appendChild(opt);

      const chip = document.createElement('button');
      chip.className = 'chip'; chip.textContent = t; chip.dataset.tag = t;
      chip.addEventListener('click', () => {
        if (chip.classList.contains('active')) {
          chip.classList.remove('active');
          render();
        } else {
          $$('.chip.active').forEach(c=>c.classList.remove('active'));
          chip.classList.add('active');
          tagSelect.value = t;
          render();
        }
      });
      chips.appendChild(chip);
    });

    function render(){
      const q = (search.value||'').toLowerCase().trim();
      const tag = tagSelect.value;
      const activeChip = $('.chip.active');
      const chipTag = activeChip ? activeChip.dataset.tag : null;

      let items = DATA.slice();

      const theTag = chipTag || (tag !== 'all' ? tag : null);
      if (theTag) items = items.filter(it => (it.tags||[]).includes(theTag));

      if (q){
        items = items.filter(it => {
          const hay = [
            it.cmd, it.title, it.desc, it.example, ...(it.tags||[])
          ].join(' ').toLowerCase();
          return hay.includes(q);
        });
      }

      const mode = sort.value;
      if (mode === 'cmd-asc') items.sort((a,b)=>a.cmd.localeCompare(b.cmd,'sv'));
      else if (mode === 'cmd-desc') items.sort((a,b)=>b.cmd.localeCompare(a.cmd,'sv'));
      else if (mode === 'group') items.sort((a,b)=>(a.tags[0]||'').localeCompare((b.tags[0]||''),'sv') || a.cmd.localeCompare(b.cmd,'sv'));

      list.innerHTML = '';
      if (!items.length){ empty.hidden = false; return; }
      empty.hidden = true;

      for (const s of items){
        const node = tpl.content.cloneNode(true);
        node.querySelector('.k').textContent = s.title || s.cmd;
        node.querySelector('.meta').textContent = s.cmd;
const btn = node.querySelector('.copybtn');
btn.addEventListener('click', async () => {
  try {
    await navigator.clipboard.writeText(s.cmd);
    btn.textContent = "Kopierat!";
    setTimeout(()=> btn.textContent = "Kopiera", 1200);
  } catch {
    btn.textContent = "Kunde inte kopiera";
    setTimeout(()=> btn.textContent = "Kopiera", 1200);
  }
});
        node.querySelector('.blurb').textContent = s.desc || '';
        const ex = node.querySelector('.example');
        if (s.example){ ex.textContent = s.example; ex.hidden = false; }
        const tags = node.querySelector('.taglist');
        (s.tags||[]).forEach(t => {
          const span = document.createElement('span');
          span.className = 'tag'; span.textContent = t;
          tags.appendChild(span);
        });
        list.appendChild(node);
      }
    }

    window.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k'){
        e.preventDefault(); search.focus();
      }
    });

    search.addEventListener('input', render);
    tagSelect.addEventListener('change', () => {
      $$('.chip.active').forEach(c=>c.classList.remove('active'));
      render();
    });
    sort.addEventListener('change', render);

    render();
    // === Tabs (snabbnavigering) ===
const tabs = document.getElementById('tabs');
if (tabs) {
  tabs.addEventListener('click', (e) => {
    const b = e.target.closest('button[data-tag]');
    if (!b) return;

    // markera aktiv tab
    [...tabs.querySelectorAll('button')].forEach(x => x.classList.remove('active'));
    b.classList.add('active');

    // synka dropdown + chips
    tagSelect.value = b.dataset.tag;
    $$('.chip.active').forEach(c => c.classList.remove('active'));
    const chip = [...$$('.chip')].find(c => c.dataset.tag === b.dataset.tag);
    chip?.classList.add('active');

    render();
  });

  // startl√§ge: markera aktuell filtrering om n√•gon
  const current = (tagSelect?.value && tagSelect.value !== 'all')
    ? tagSelect.value
    : ($$('.chip.active')[0]?.dataset.tag || null);

  if (current) {
    const btn = tabs.querySelector(`button[data-tag="${current}"]`);
    btn?.classList.add('active');
  }
}
    // === Globala toggles ===

// Ljus/M√∂rk
document.getElementById('theme')?.addEventListener('click', () => {
  document.documentElement.classList.toggle('light');
});

// Kompakt / Luftig vy
document.getElementById('density')?.addEventListener('click', () => {
  document.body.classList.toggle('compact');
  const btn = document.getElementById('density');
  btn.textContent = document.body.classList.contains('compact') 
    ? "Luftig vy" 
    : "Kompakt vy";
});
// === Snabbkommando: Ctrl+K / Cmd+K f√∂r att fokusera s√∂krutan ===
document.addEventListener('keydown', e => {
  if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k') {
    e.preventDefault();
    const search = document.getElementById('search'); 
    if (search) search.focus();
  }
});
// Klick p√• "Fokusera s√∂k"-knappen ‚Üí fokus + markera text
document.getElementById('focus')?.addEventListener('click', () => {
  const el = document.getElementById('search');
  if (!el) return;
  el.focus();
  el.select(); // markerar befintlig text s√• man kan b√∂rja skriva direkt
  el.scrollIntoView({behavior:'smooth', block:'center'});
});
function setHeaderHeightVar(){
  const h = document.querySelector('header')?.offsetHeight || 56;
  document.documentElement.style.setProperty('--header-h', `${h}px`);
}
window.addEventListener('load', setHeaderHeightVar);
window.addEventListener('resize', setHeaderHeightVar);
window.addEventListener('orientationchange', setHeaderHeightVar);
// S√§tt headerh√∂jd som CSS-variabel (hj√§lper sticky-top att hamna r√§tt)
function setHeaderHeightVar(){
  const h = document.getElementById('appbar')?.offsetHeight || 56;
  document.documentElement.style.setProperty('--header-h', `${h}px`);
}
window.addEventListener('load', setHeaderHeightVar);
window.addEventListener('resize', setHeaderHeightVar);
window.addEventListener('orientationchange', setHeaderHeightVar);

// Krymp headern n√§r man skrollar lite
const appbar = document.getElementById('appbar');
let lastY = 0;
window.addEventListener('scroll', ()=>{
  const y = window.scrollY || document.documentElement.scrollTop;
  appbar.classList.toggle('shrink', y > 24);
  // uppdatera h√∂jd om den √§ndras
  if ((y>24) !== (lastY>24)) setHeaderHeightVar();
  lastY = y;
});

// Knappar ‚Äì beh√•ll dina befintliga listeners eller l√§gg dessa:
document.getElementById('focus')?.addEventListener('click', ()=>{
  const el = document.getElementById('search'); if (!el) return;
  el.focus(); el.select(); el.scrollIntoView({behavior:'smooth', block:'center'});
});
document.getElementById('theme')?.addEventListener('click', ()=>{
  document.documentElement.classList.toggle('light');
});
document.getElementById('density')?.addEventListener('click', ()=>{
  document.body.classList.toggle('compact');
  const b = document.getElementById('density');
  if (b) b.textContent = document.body.classList.contains('compact') ? 'Luftig vy' : 'Kompakt vy';
});
// Ctrl/Cmd+K ‚Üí fokus p√• s√∂k
document.addEventListener('keydown', e=>{
  if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase()==='k'){
    e.preventDefault();
    const el = document.getElementById('search'); if (!el) return;
    el.focus(); el.select();
  }
});
    // === Globala toggles ===
const html = document.documentElement;
const themeBtn = document.getElementById('theme');
const densityBtn = document.getElementById('density');
const focusBtn = document.getElementById('focus');

// Toggle ljus/m√∂rk
themeBtn?.addEventListener('click', () => {
  html.classList.toggle('light');
});

// Toggle kompakt vy
densityBtn?.addEventListener('click', () => {
  document.body.classList.toggle('compact');
});

// Fokusera s√∂kf√§lt
focusBtn?.addEventListener('click', () => {
  document.getElementById('search')?.focus();
});
  </script>
  <script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("./sw.js");
}
  </script>
</body>
</html>
